




<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation">
      
      
        <meta name="author" content="Percona LLC">
      
      
        <link rel="canonical" href="https://docs.percona.com/percona-operator-for-postgresql/operator.html">
      
      
        <link rel="prev" href="private.html">
      
      
        <link rel="next" href="installation-options.html">
      
      
      <link rel="icon" href="assets/operators-fav.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Custom Resource options - Percona Operator for PostgreSQL</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unicons.iconscout.com/release/v3.0.3/css/line.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="css/lightgallery.min.css">
    
      <link rel="stylesheet" href="css/nocopy.css">
    
      <link rel="stylesheet" href="css/extra.css">
    
      <link rel="stylesheet" href="css/design.css">
    
      <link rel="stylesheet" href="css/operators.css">
    
      <link rel="stylesheet" href="css/osano.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
               
                 
                 
                 
                 
                 <meta property="og:type" content="website" />
                 <meta property="og:title" content="Percona Operator for PostgreSQL - Custom Resource options" />
                 <meta property="og:image" content="https://docs.percona.com/percona-operator-for-postgresql/assets/images/kubernetes-operators.png">
                 <meta property="og:url" content="https://docs.percona.com/percona-operator-for-postgresql/">
                </head>
                <body>
                </body>
              </html>

              
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#custom-resource-options" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine classes -->


  


<!-- Header -->
<header class="md-header md-header--shadow" data-md-component="header">

  <!-- Super Nav -->
  <div class="superNav">
    <div class="md-header__inner md-grid">
      <a href="https://pmcf-percona.github.io/docs-home/percona-operators/" title="Percona Documentation home page">
        <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <mask id="a" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24">
            <path d="M0 0h24v24H0z"/>
          </mask>
          <g mask="url(#a)">
            <path d="m7.825 13 5.6 5.6L12 20l-8-8 8-8 1.425 1.4-5.6 5.6H20v2H7.825Z"/>
          </g>
        </svg>
        <span>Percona Documentation</span>
      </a>
    </div>
  </div>

  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to home -->
    <a
      href="index.html"
      title="Percona Operator for PostgreSQL"
      class="md-header__button md-logo"
      aria-label="Percona Operator for PostgreSQL"
      data-md-component="logo"
    >
      
  <img src="assets/operators-mark.svg" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title">
      <div class="md-header__ellipsis">
        <a href="index.html" class="md-header__topic">
          <span class="md-ellipsis">
            Percona Operator for PostgreSQL
          </span>
        </a>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Custom Resource options
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette toggle -->
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Color theme set to Automatic. Click to change"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Color theme set to Automatic. Click to change" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Color theme set to Light Mode. Click to change"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Color theme set to Light Mode. Click to change" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Color theme set to Dark Mode. Click to change"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Color theme set to Dark Mode. Click to change" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    

    <!-- User preference: color palette -->
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/percona/k8spg-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    percona/k8spg-docs
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Percona Operator for PostgreSQL" class="md-nav__button md-logo" aria-label="Percona Operator for PostgreSQL" data-md-component="logo">
      
  <img src="assets/operators-mark.svg" alt="logo">

    </a>
    Percona Operator for PostgreSQL
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/percona/k8spg-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    percona/k8spg-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Requirements
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Requirements
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="System-Requirements.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Requirements
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="architecture.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Design and architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="compare.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comparison with other solutions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Quickstart guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Quickstart guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="minikube.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install on Minikube
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="helm.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install with Helm
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Installation guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Installation guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="gke.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install on Google Kubernetes Engine (GKE)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="kubernetes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generic Kubernetes installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="openshift.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Install on OpenShift
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="users.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application and system users
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="options.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changing PostgreSQL Options
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="constraints.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Anti-affinity and tolerations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="TLS.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transport Encryption (TLS/SSL)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="telemetry.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Telemetry
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Management
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="backups.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backup and restore
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="update.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Upgrade Percona Distribution for PostgreSQL and the Operator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="scaling.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Horizontal and vertical scaling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="monitoring.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Monitor with Percona Monitoring and Management (PMM)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="pause.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Restart or pause the cluster
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    How to
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            How to
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="standby.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy a standby cluster for Disaster Recovery
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="cluster-wide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Provide Percona Operator for PostgreSQL single-namespace and multi-namespace deployment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tablespace.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use PostgreSQL tablespaces with Percona Operator for PostgreSQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="private.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating a private S3-compatible cloud for backups
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Custom Resource options
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="operator.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Custom Resource options
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#upgrade-options-section" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade Options Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pgprimary-section" class="md-nav__link">
    <span class="md-ellipsis">
      pgPrimary Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tablespaces-storage-section" class="md-nav__link">
    <span class="md-ellipsis">
      Tablespaces Storage Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#write-ahead-log-storage-section" class="md-nav__link">
    <span class="md-ellipsis">
      Write-ahead Log Storage Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-section" class="md-nav__link">
    <span class="md-ellipsis">
      Backup Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pmm-section" class="md-nav__link">
    <span class="md-ellipsis">
      PMM Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pgbouncer-section" class="md-nav__link">
    <span class="md-ellipsis">
      pgBouncer Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pgreplicas-section" class="md-nav__link">
    <span class="md-ellipsis">
      pgReplicas Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pgbadger-section" class="md-nav__link">
    <span class="md-ellipsis">
      pgBadger Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-expert-help" class="md-nav__link">
    <span class="md-ellipsis">
      Get expert help
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="installation-options.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Operator installation options
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="images.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Percona certified images
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="faq.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Frequently Asked Questions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://docs.percona.com/legacy-documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Old releases (documentation archive)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="copyright.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Copyright and licensing information
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="trademark-policy.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Trademark policy
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ReleaseNotes/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release notes index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ReleaseNotes/Kubernetes-Operator-for-PostgreSQL-RN1.5.1.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Percona Operator for PostgreSQL 1.5.1 (2024-01-29)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ReleaseNotes/Kubernetes-Operator-for-PostgreSQL-RN1.5.0.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Percona Operator for PostgreSQL 1.5.0 (2023-12-11)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ReleaseNotes/Kubernetes-Operator-for-PostgreSQL-RN1.4.0.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Percona Operator for PostgreSQL 1.4.0 (2023-03-31)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ReleaseNotes/Kubernetes-Operator-for-PostgreSQL-RN1.3.0.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Percona Operator for PostgreSQL 1.3.0 (2022-08-04)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ReleaseNotes/Kubernetes-Operator-for-PostgreSQL-RN1.2.0.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Percona Operator for PostgreSQL 1.2.0 (2022-04-06)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ReleaseNotes/Kubernetes-Operator-for-PostgreSQL-RN1.1.0.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Percona Operator for PostgreSQL 1.1.0 (2021-12-07)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ReleaseNotes/Kubernetes-Operator-for-PostgreSQL-RN1.0.0.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Percona Operator for PostgreSQL 1.0.0 (2021-10-07)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ReleaseNotes/Kubernetes-Operator-for-PostgreSQL-RN0.2.0.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Percona Operator for PostgreSQL 0.2.0 (2021-08-12)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ReleaseNotes/Kubernetes-Operator-for-PostgreSQL-RN0.1.0.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Percona Operator for PostgreSQL 0.1.0 (2021-05-10)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://www.percona.com/k8s" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Join K8S Squad
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                    <br>
                    <label class="md-nav__title" for="__drawer">

  </label> 
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#upgrade-options-section" class="md-nav__link">
    <span class="md-ellipsis">
      Upgrade Options Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pgprimary-section" class="md-nav__link">
    <span class="md-ellipsis">
      pgPrimary Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tablespaces-storage-section" class="md-nav__link">
    <span class="md-ellipsis">
      Tablespaces Storage Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#write-ahead-log-storage-section" class="md-nav__link">
    <span class="md-ellipsis">
      Write-ahead Log Storage Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backup-section" class="md-nav__link">
    <span class="md-ellipsis">
      Backup Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pmm-section" class="md-nav__link">
    <span class="md-ellipsis">
      PMM Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pgbouncer-section" class="md-nav__link">
    <span class="md-ellipsis">
      pgBouncer Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pgreplicas-section" class="md-nav__link">
    <span class="md-ellipsis">
      pgReplicas Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pgbadger-section" class="md-nav__link">
    <span class="md-ellipsis">
      pgBadger Section
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-expert-help" class="md-nav__link">
    <span class="md-ellipsis">
      Get expert help
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/percona/k8spg-docs/edit/main/docs/operator.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/percona/k8spg-docs/raw/main/docs/operator.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="custom-resource-options">Custom Resource options<a class="headerlink" href="#custom-resource-options" title="Permanent link">&para;</a></h1>
<p>The Cluster is configured via the
<a href="https://github.com/percona/percona-postgresql-operator/blob/1.x/deploy/cr.yaml">deploy/cr.yaml</a> file.</p>
<p>The metadata part of this file contains the following keys:</p>
<ul>
<li><code>name</code> (<code>cluster1</code> by default) sets the name of your Percona Distribution
for PostgreSQL Cluster; it should include only <a href="https://datatracker.ietf.org/doc/html/rfc3986#section-2.3">URL-compatible characters</a>, not exceed 22 characters, start with an alphabetic character, and end with an alphanumeric character;</li>
</ul>
<p>The spec part of the <a href="https://github.com/percona/percona-postgresql-operator/blob/1.x/deploy/cr.yaml">deploy/cr.yaml</a> file contains the following sections:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Value type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>pause</td>
<td>boolean</td>
<td><code>false</code></td>
<td>Pause/resume: setting it to <code>true</code> gracefully stops the cluster, and setting it to <code>false</code> after shut down starts the cluster back.</td>
</tr>
<tr>
<td>upgradeOptions</td>
<td><a href="#upgrade-options-section">subdoc</a></td>
<td></td>
<td>Percona Distribution for PostgreSQL upgrade options section</td>
</tr>
<tr>
<td>pgPrimary</td>
<td><a href="#pgprimary-section">subdoc</a></td>
<td></td>
<td>PostgreSQL Primary instance options section</td>
</tr>
<tr>
<td>walStorage</td>
<td><a href="#tablespaces-storage-section">subdoc</a></td>
<td></td>
<td>Tablespaces Storage Section</td>
</tr>
<tr>
<td>walStorage</td>
<td><a href="#write-ahead-log-storage-section">subdoc</a></td>
<td></td>
<td>Write-ahead Log Storage Section</td>
</tr>
<tr>
<td>backup</td>
<td><a href="#backup-section">subdoc</a></td>
<td></td>
<td>Section to configure backups and pgBackRest</td>
</tr>
<tr>
<td>pmm</td>
<td><a href="#pmm-section">subdoc</a></td>
<td></td>
<td>Percona Monitoring and Management section</td>
</tr>
<tr>
<td>pgBouncer</td>
<td><a href="#pgbouncer-section">subdoc</a></td>
<td></td>
<td>The <a href="http://pgbouncer.github.io/">pgBouncer</a> connection pooler section</td>
</tr>
<tr>
<td>pgReplicas</td>
<td><a href="#pgreplicas-section">subdoc</a></td>
<td></td>
<td>Section required to manage the replicas within a PostgreSQL cluster</td>
</tr>
<tr>
<td>pgBadger</td>
<td><a href="#pgbadger-section">subdoc</a></td>
<td></td>
<td>The <a href="https://github.com/darold/pgbadger">pgBadger</a> PostgreSQL log analyzer section</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;database&rsquo;,&rsquo;spec&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>pgdb</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The name of a database that the PostgreSQL user can log into after the PostgreSQL cluster is created</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;disableAutofail&rsquo;,&rsquo;spec&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>boolean</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>false</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Turns high availability on or off. By default, every cluster can have high availability if there is at least one replica</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;tlsOnly&rsquo;,&rsquo;spec&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>boolean</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>false</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Enforece Operator to use only Transport Layer Security (TLS) for both internal and external communications</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;sslCA&rsquo;,&rsquo;spec&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>cluster1-ssl-ca</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The name of the secret with TLS  used for both connection encryption (external traffic), and replication (internal traffic)</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;secretsName&rsquo;,&rsquo;spec&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>cluster1-secrets</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The name of the secret created to store <a href="users.html">credentials for system users</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;sslSecretName&rsquo;,&rsquo;spec&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>cluster1-ssl-keypair</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The name of the secret created to encrypt external communications</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;sslReplicationSecretName&rsquo;,&rsquo;spec&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>cluster1-ssl-keypair"</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The name of the secret created to encrypt internal communications</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;keepData&rsquo;,&rsquo;spec&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>boolean</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>true</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>If <code>true</code>, PVCs will be kept after the cluster deletion</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;keepBackups&rsquo;,&rsquo;spec&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>boolean</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>true</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>If <code>true</code>, local backups will be kept after the cluster deletion</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgDataSource.restoreFrom&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The name of a data source PostgreSQL cluster, which is used to <a href="backups.html#backups-restore">restore backup to a new cluster</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgDataSource.restoreOpts&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Custom pgBackRest options to <a href="backups.html#backups-restore">restore backup to a new cluster</a></td>
</tr>
</tbody>
</table>
<h2 id="upgrade-options-section">Upgrade Options Section<a class="headerlink" href="#upgrade-options-section" title="Permanent link">&para;</a></h2>
<p>The <code>upgradeOptions</code> section in the <a href="https://github.com/percona/percona-postgresql-operator/blob/1.x/deploy/cr.yaml">deploy/cr.yaml</a> file contains various configuration options to control Percona Distribution for PostgreSQL upgrades.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;upgradeOptions.versionServiceEndpoint&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>https://check.percona.com</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The Version Service URL used to check versions compatibility for upgrade</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;upgradeOptions.apply&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>disabled</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Specifies how <a href="update.html#operator-update-smartupdates">updates are processed</a> by the Operator. <code>Never</code> or <code>Disabled</code> will completely disable automatic upgrades, otherwise it can be set to <code>Latest</code> or <code>Recommended</code> or to a specific version number of Percona Distribution for PostgreSQL to have it version-locked (so that the user can control the version running, but use automatic upgrades to move between them).</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;upgradeOptions.schedule&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>0 2 \* \* \*</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Scheduled time to check for updates, specified in the <a href="https://en.wikipedia.org/wiki/Cron">crontab format</a></td>
</tr>
</tbody>
</table>
<h2 id="pgprimary-section">pgPrimary Section<a class="headerlink" href="#pgprimary-section" title="Permanent link">&para;</a></h2>
<p>The pgPrimary section controls the PostgreSQL Primary instance.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.image&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>perconalab/percona-postgresql-operator:main-ppg13-postgres-ha</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The Docker image of the PostgreSQL Primary instance</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.imagePullPolicy&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>Always</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>This option is used to set the <a href="https://kubernetes.io/docs/concepts/containers/images/#updating-images">policy</a> for updating pgPrimary and pgReplicas images</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.resources.requests.memory&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>256Mi</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes memory requests</a> for a PostgreSQL Primary container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.resources.requests.cpu&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>500m</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes CPU requests</a> for a PostgreSQL Primary container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.resources.limits.cpu&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>500m</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes CPU limits</a> for a PostgreSQL Primary container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.resources.limits.memory&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>256Mi</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes memory limits</a> for a PostgreSQL Primary container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.affinity.antiAffinityType&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>preferred</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="constraints.html#affinity-and-anti-affinity">Pod anti-affinity type</a>, can be either <code>preferred</code> or <code>required</code></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.affinity.nodeAffinityType&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>preferred</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="constraints.html#affinity-and-anti-affinity">Node affinity type</a>, can be either <code>preferred</code> or <code>required</code></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.affinity.nodeLabel&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>label</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>kubernetes.io/region: us-central1</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Set <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">labels</a> for <a href="constraints.html#simple-approach-configure-node-affinity-based-on-nodelabel">PostgreSQL instances Node affinity</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.affinity.advanced&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>subdoc</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="constraints.html#advanced-approach-use-standard-kubernetes-constraints">Allows using standard Kubernetes affinity constraints</a> for advanced affinity and anti-affinity tuning</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.volumeSpec.size&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>1G</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">Kubernetes PersistentVolumeClaim</a> size for the PostgreSQL Primary storage</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.tolerations&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>subdoc</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>node.alpha.kubernetes.io/unreachable</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/">Kubernetes Pod tolerations</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.volumeSpec.size&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>1G</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">Kubernetes PersistentVolumeClaim</a> size for the PostgreSQL Primary storage</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.volumeSpec.accessmode&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>ReadWriteOnce</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">Kubernetes PersistentVolumeClaim</a> access modes for the PostgreSQL Primary storage</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.volumeSpec.storagetype&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>dynamic</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Type of the PostgreSQL Primary storage provisioning: <code>create</code> (the default variant; used if storage is provisioned, e.g. using hostpath) or <code>dynamic</code> (for a dynamic storage provisioner, e.g. via a StorageClass)</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.volumeSpec.storageclass&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Optionally sets the <a href="https://kubernetes.io/docs/concepts/storage/storage-classes/">Kubernetes storage class</a> to use with the PostgreSQL Primary storage <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">PersistentVolumeClaim</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.volumeSpec.matchLabels&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>A PostgreSQL Primary storage <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#selector">label selector</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.imagePullPolicy&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>Always</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>This option is used to set the <a href="https://kubernetes.io/docs/concepts/containers/images/#updating-images">policy</a> for updating pgPrimary and pgReplicas images</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.expose.serviceType&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>ClusterIP</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Specifies the type of <a href="https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types">Kubernetes Service</a> for pgPrimary</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.expose.loadBalancerIP&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>127.0.0.1</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The static IP-address for the load balancer</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.expose.loadBalancerSourceRanges&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>"10.0.0.0/8"</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The range of client IP addresses from which the load balancer should be reachable (if not set, there is no limitations)</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.expose.annotations&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>label</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>pg-cluster-annot: cluster1</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Kubernetes annotations</a> metadata for pgPrimary</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.expose.labels&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>label</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>pg-cluster-label: cluster1</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Set <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">labels</a> for the pgPrimary Service</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgPrimary.customconfig&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Name of the <a href="options.html#operator-configmaps">Custom configuration options ConfigMap</a> for PostgreSQL cluster</td>
</tr>
</tbody>
</table>
<h2 id="tablespaces-storage-section">Tablespaces Storage Section<a class="headerlink" href="#tablespaces-storage-section" title="Permanent link">&para;</a></h2>
<p>The <code>tablespaceStorages</code> section in the <a href="https://github.com/percona/percona-postgresql-operator/blob/1.x/deploy/cr.yaml">deploy/cr.yaml</a>
file contains configuration options for PostgreSQL <a href="https://www.postgresql.org/docs/current/manage-ag-tablespaces.html">Tablespace</a>.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;tablespaceStorages.&lt;storage-name&gt;.volumeSpec.size&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>1G</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">Kubernetes PersistentVolumeClaim</a> size for the PostgreSQL Tablespaces storage</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;tablespaceStorages.&lt;storage-name&gt;.volumeSpec.accessmode&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>ReadWriteOnce</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">Kubernetes PersistentVolumeClaim</a> access modes for the PostgreSQL Tablespaces storage</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;tablespaceStorages.&lt;storage-name&gt;.volumeSpec.storagetype&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>dynamic</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Type of the PostgreSQL Tablespaces storage provisioning: <code>create</code> (the default variant; used if storage is provisioned, e.g. using hostpath) or <code>dynamic</code> (for a dynamic storage provisioner, e.g. via a StorageClass)</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;tablespaceStorages.&lt;storage-name&gt;.volumeSpec.storageclass&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Optionally sets the <a href="https://kubernetes.io/docs/concepts/storage/storage-classes/">Kubernetes storage class</a> to use with the PostgreSQL Tablespaces storage <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">PersistentVolumeClaim</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;tablespaceStorages.&lt;storage-name&gt;.volumeSpec.matchLabels&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>A PostgreSQL Tablespaces storage <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#selector">label selector</a></td>
</tr>
</tbody>
</table>
<h2 id="write-ahead-log-storage-section">Write-ahead Log Storage Section<a class="headerlink" href="#write-ahead-log-storage-section" title="Permanent link">&para;</a></h2>
<p>The <code>walStorage</code> section in the <a href="https://github.com/percona/percona-postgresql-operator/blob/1.x/deploy/cr.yaml">deploy/cr.yaml</a>
file contains configuration options for PostgreSQL <a href="https://www.postgresql.org/docs/current/wal-intro.html">write-ahead logging</a>.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;walStorage.volumeSpec.size&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>1G</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">Kubernetes PersistentVolumeClaim</a> size for the PostgreSQL Write-ahead Log storage</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;walStorage.volumeSpec.accessmode&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>ReadWriteOnce</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">Kubernetes PersistentVolumeClaim</a> access modes for the PostgreSQL Write-ahead Log storage</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;walStorage.volumeSpec.storagetype&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>dynamic</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Type of the PostgreSQL Write-ahead Log storage provisioning: <code>create</code> (the default variant; used if storage is provisioned, e.g. using hostpath) or <code>dynamic</code> (for a dynamic storage provisioner, e.g. via a StorageClass)</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;walStorage.volumeSpec.storageclass&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Optionally sets the <a href="https://kubernetes.io/docs/concepts/storage/storage-classes/">Kubernetes storage class</a> to use with the PostgreSQL Write-ahead Log storage <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">PersistentVolumeClaim</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;walStorage.volumeSpec.matchLabels&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>A PostgreSQL Write-ahead Log storage <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#selector">label selector</a></td>
</tr>
</tbody>
</table>
<h2 id="backup-section">Backup Section<a class="headerlink" href="#backup-section" title="Permanent link">&para;</a></h2>
<p>The <code>backup</code> section in the
<a href="https://github.com/percona/percona-postgresql-operator/blob/1.x/deploy/cr.yaml">deploy/cr.yaml</a>
file contains the following configuration options for the regular
Percona Distribution for PostgreSQL backups.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.image&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>perconalab/percona-postgresql-operator:main-ppg13-pgbackrest</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The Docker image for <a href="backups.html#backups-pgbackrest">pgBackRest</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.backrestRepoImage&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>perconalab/percona-postgresql-operator:main-ppg13-pgbackrest-repo</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The Docker image for the <a href="backups.html#backups-pgbackrest-repository">BackRest repository</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.resources.requests.cpu&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>500m</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes CPU requests</a> for a pgBackRest container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.resources.requests.memory&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>48Mi</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes memory requests</a> for a pgBackRest container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.resources.limits.cpu&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>1</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes CPU limits</a> for a pgBackRest container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.resources.limits.memory&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>64Mi</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes memory limits</a> for a pgBackRest container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.affinity.antiAffinityType&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>preferred</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="constraints.html#affinity-and-anti-affinity">Pod anti-affinity type</a>, can be either <code>preferred</code> or <code>required</code></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.volumeSpec.size&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>1G</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">Kubernetes PersistentVolumeClaim</a> size for the pgBackRest Storage</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.volumeSpec.accessmode&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>ReadWriteOnce</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">Kubernetes PersistentVolumeClaim</a> access modes for the pgBackRest Storage</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.volumeSpec.storagetype&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>dynamic</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Type of the pgBackRest storage provisioning: <code>create</code> (the default variant; used if storage is provisioned, e.g. using hostpath) or <code>dynamic</code> (for a dynamic storage provisioner, e.g. via a StorageClass)</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.volumeSpec.storageclass&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Optionally sets the <a href="https://kubernetes.io/docs/concepts/storage/storage-classes/">Kubernetes storage class</a> to use with the pgBackRest Storage <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">PersistentVolumeClaim</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.volumeSpec.matchLabels&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>A pgBackRest storage <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#selector">label selector</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.storages.&lt;storage-name&gt;.type&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>s3</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Type of the storage used for backups</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.storages.&lt;storage-name&gt;.endpointURL&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>minio-gateway-svc:9000</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The endpoint URL of the S3-compatible storage to be used for backups (not needed for the original Amazon S3 cloud)</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.storages.&lt;storage-name&gt;.bucket&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingBucket.html">Amazon S3 bucket</a> or <a href="https://cloud.google.com/storage/docs/key-terms#buckets">Google Cloud Storage bucket</a></td>
</tr>
<tr>
<td>name used for backups</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.storages.&lt;storage-name&gt;.region&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>boolean</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>us-east-1</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://docs.aws.amazon.com/general/latest/gr/rande.html">AWS region</a> to use for Amazon and all S3-compatible storages</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.storages.&lt;storage-name&gt;.uriStyle&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>path</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Optional parameter that specifies if pgBackRest should use the path or host S3 URI style</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.storages.&lt;storage-name&gt;.verifyTLS&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>boolean</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>false</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Enables or disables TLS verification for pgBackRest</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.storageTypes&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>array</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>[ "s3" ]</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The backup storage types for the pgBackRest repository</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.repoPath&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Custom path for pgBackRest repository backups</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.schedule.name&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>sat-night-backup</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The backup name</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.schedule.schedule&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>0 0 \* \* 6</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Scheduled time to make a backup specified in the</td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/Cron">crontab format</a></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.schedule.keep&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>3</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The amount of most recent backups to store. Older backups are automatically deleted. Set <code>keep</code> to zero or completely remove it to disable automatic deletion of backups</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.schedule.type&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>full</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="backups.html#backups-pgbackrest-backup-type">type</a> of the pgBackRest backup</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.schedule.storage&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>local</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="backups.html#backups-pgbackrest-repo-type">type</a> of the pgBackRest repository</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.schedule.backrestOpts&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>--annotation=source=scheduled-backup</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Custom pgBackRest configuration options for scheduled backups</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.customconfig&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Name of the <a href="https://kubernetes.io/docs/concepts/configuration/configmap/">ConfigMap</a> to pass custom pgBackRest configuration options</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;backup.imagePullPolicy&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>Always</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>This option is used to set the <a href="https://kubernetes.io/docs/concepts/containers/images/#updating-images">policy</a> for updating pgBackRest images</td>
</tr>
</tbody>
</table>
<h2 id="pmm-section">PMM Section<a class="headerlink" href="#pmm-section" title="Permanent link">&para;</a></h2>
<p>The <code>pmm</code> section in the <a href="https://github.com/percona/percona-postgresql-operator/blob/1.x/deploy/cr.yaml">deploy/cr.yaml</a>
file contains configuration options for Percona Monitoring and Management.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pmm.enabled&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>boolean</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>false</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Enables or disables <a href="https://www.percona.com/doc/percona-monitoring-and-management/2.x/setting-up/client/postgresql.html">monitoring Percona Distribution for PostgreSQL cluster with PMM</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pmm.image&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>percona/pmm-client:{{ pmm2recommended }}</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="https://www.percona.com/doc/percona-monitoring-and-management/2.x/details/architecture.html#pmm-client">Percona Monitoring and Management (PMM) Client</a> Docker image</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pmm.serverHost&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>monitoring-service</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Address of the PMM Server to collect data from the cluster</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pmm.serverUser&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>admin</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://www.percona.com/doc/percona-monitoring-and-management/glossary.option.html">PMM Server User</a>. The PMM Server password should be configured using Secrets</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pmm.pmmSecret&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>cluster1-pmm-secret</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Name of the <a href="https://kubernetes.io/docs/concepts/configuration/secret/#using-imagepullsecrets">Kubernetes Secret object</a> for the PMM Server password</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pmm.resources.requests.memory&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>200M</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes memory requests</a> for a PMM container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pmm.resources.requests.cpu&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>500m</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes CPU requests</a> for a PMM container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pmm.resources.limits.cpu&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>500m</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes CPU limits</a> for a PMM container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pmm.resources.limits.memory&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>200M</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes memory limits</a> for a PMM container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pmm.imagePullPolicy&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>Always</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>This option is used to set the <a href="https://kubernetes.io/docs/concepts/containers/images/#updating-images">policy</a> for updating PMM Client images</td>
</tr>
</tbody>
</table>
<h2 id="pgbouncer-section">pgBouncer Section<a class="headerlink" href="#pgbouncer-section" title="Permanent link">&para;</a></h2>
<p>The <code>pgBouncer</code> section in the <a href="https://github.com/percona/percona-postgresql-operator/blob/1.x/deploy/cr.yaml">deploy/cr.yaml</a>
file contains configuration options for the <a href="http://pgbouncer.github.io/">pgBouncer</a> connection pooler for PostgreSQL.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBouncer.image&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>perconalab/percona-postgresql-operator:main-ppg13-pgbouncer</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Docker image for the <a href="http://pgbouncer.github.io/">pgBouncer</a> connection pooler</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBouncer.exposePostgresUser&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>boolean</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>false</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Enables or disables <a href="users.html#application-users">exposing postgres user through pgBouncer</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBouncer.size&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>1G</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The number of the pgBouncer Pods to provide connection pooling</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBouncer.resources.requests.cpu&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>1</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes CPU requests</a> for a pgBouncer container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBouncer.resources.requests.memory&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>128Mi</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes memory requests</a> for a pgBouncer container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBouncer.resources.limits.cpu&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>2</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes CPU limits</a> for a pgBouncer container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBouncer.resources.limits.memory&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>512Mi</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes memory limits</a> for a pgBouncer container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBouncer.affinity.antiAffinityType&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>preferred</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="constraints.html#affinity-and-anti-affinity">Pod anti-affinity type</a>, can be either <code>preferred</code> or <code>required</code></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBouncer.expose.serviceType&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>ClusterIP</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Specifies the type of <a href="https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types">Kubernetes Service</a> for pgBouncer</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBouncer.expose.loadBalancerIP&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>127.0.0.1</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The static IP-address for the load balancer</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBouncer.expose.loadBalancerSourceRanges&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>"10.0.0.0/8"</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The range of client IP addresses from which the load balancer should be reachable (if not set, there is no limitations)</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBouncer.expose.annotations&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>label</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>pg-cluster-annot: cluster1</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Kubernetes annotations</a> metadata for pgBouncer</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBouncer.expose.labels&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>label</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>pg-cluster-label: cluster1</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Set <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">labels</a> for the pgBouncer Service</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBouncer.imagePullPolicy&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>Always</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>This option is used to set the <a href="https://kubernetes.io/docs/concepts/containers/images/#updating-images">policy</a> for updating pgBouncer images</td>
</tr>
</tbody>
</table>
<h2 id="pgreplicas-section">pgReplicas Section<a class="headerlink" href="#pgreplicas-section" title="Permanent link">&para;</a></h2>
<p>The <code>pgReplicas</code> section in the <a href="https://github.com/percona/percona-postgresql-operator/blob/1.x/deploy/cr.yaml">deploy/cr.yaml</a>
file stores information required to manage the replicas within a PostgreSQL cluster.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.size&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>1G</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The number of the PostgreSQL Replica Pods</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.resources.requests.cpu&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>500m</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes CPU requests</a> for a PostgreSQL Replica container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.resources.requests.memory&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>256Mi</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes memory requests</a> for a PostgreSQL Replica container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.resources.limits.cpu&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>500m</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes CPU limits</a> for a PostgreSQL Replica container</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.resources.limits.memory&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>256Mi</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/#resource-requests-and-limits-of-pod-and-container">Kubernetes memory limits</a></td>
</tr>
<tr>
<td>for a PostgreSQL Replica container</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.volumeSpec.accessmode&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>ReadWriteOnce</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">Kubernetes PersistentVolumeClaim</a> access modes for the PostgreSQL Replica storage</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.volumeSpec.size&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>1G</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">Kubernetes PersistentVolumeClaim</a> size for the PostgreSQL Replica storage</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.volumeSpec.storagetype&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>dynamic</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Type of the PostgreSQL Replica storage provisioning: <code>create</code> (the default variant; used if storage is provisioned, e.g. using hostpath) or <code>dynamic</code> (for a dynamic storage provisioner, e.g. via a StorageClass)</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.volumeSpec.storageclass&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>standard</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Optionally sets the <a href="https://kubernetes.io/docs/concepts/storage/storage-classes/">Kubernetes storage class</a> to use with the PostgreSQL Replica storage <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims">PersistentVolumeClaim</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.volumeSpec.matchLabels&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>""</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>A PostgreSQL Replica storage <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/#selector">label selector</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.labels&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>label</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>pg-cluster-label: cluster1</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Set <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">labels</a> for PostgreSQL Replica Pods</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.annotations&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>label</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>pg-cluster-annot: cluster1-1</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Kubernetes annotations</a> metadata for PostgreSQL Replica</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.expose.serviceType&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>ClusterIP</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Specifies the type of <a href="https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types">Kubernetes Service</a> for for PostgreSQL Replica</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.expose.loadBalancerSourceRanges&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>"10.0.0.0/8"</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The range of client IP addresses from which the load balancer should be reachable (if not set, there is no limitations)</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.expose.annotations&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>label</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>pg-cluster-annot: cluster1</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/annotations/">Kubernetes annotations</a> metadata for PostgreSQL Replica</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgReplicas.<replica-name>.expose.labels&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>label</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>pg-cluster-label: cluster1</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Set <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/">labels</a> for the PostgreSQL Replica Service</td>
</tr>
</tbody>
</table>
<h2 id="pgbadger-section">pgBadger Section<a class="headerlink" href="#pgbadger-section" title="Permanent link">&para;</a></h2>
<p>The <code>pgBadger</code> section in the <a href="https://github.com/percona/percona-postgresql-operator/blob/1.x/deploy/cr.yaml">deploy/cr.yaml</a>
file contains configuration options for the <a href="https://github.com/darold/pgbadger">pgBadger PostgreSQL log analyzer</a>.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBadger.enabled&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>boolean</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>false</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>Enables or disables the <a href="https://github.com/darold/pgbadger">pgBadger PostgreSQL log analyzer</a></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBadger.image&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>perconalab/percona-postgresql-operator:main-ppg13-pgbadger</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td><a href="https://github.com/darold/pgbadger">pgBadger PostgreSQL log analyzer</a> Docker image</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBadger.port&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>int</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>10000</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>The port number for pgBadger</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td><strong>Key</strong></td>
<td>{{ optionlink(&lsquo;pgBadger.imagePullPolicy&rsquo;) }}</td>
</tr>
<tr>
<td><strong>Value</strong></td>
<td>string</td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td><code>Always</code></td>
</tr>
<tr>
<td><strong>Description</strong></td>
<td>This option is used to set the <a href="https://kubernetes.io/docs/concepts/containers/images/#updating-images">policy</a> for updating pgBadger images</td>
</tr>
</tbody>
</table>
<div data-banner="data-banner">
<h2 class="title" id="get-expert-help">Get expert help<a class="headerlink" href="#get-expert-help" title="Permanent link">&para;</a></h2>
<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services. Join K8S Squad to benefit from early access to features and &ldquo;ask me anything&rdquo; sessions with the Experts. </p>
<div class="actions">
<p><a href="https://forums.percona.com/c/postgresql/percona-kubernetes-operator-for-postgresql/68?utm_campaign=Doc%20pages&amp;_gl=1*hqhs2g*_gcl_au*NDQzODI2NzEuMTY5MTQyMjA4OQ.."><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 4v7H5.17L4 12.17V4zm1-2H3a1 1 0 0 0-1 1v14l4-4h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1m5 4h-2v9H6v2a1 1 0 0 0 1 1h11l4 4V7a1 1 0 0 0-1-1"/></svg></span> Community Forum</a> <a href="https://www.percona.com/about/contact"><span class="twemoji"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="M19.3996 14.148C21.9082 12.5083 22.7289 9.16368 21.2109 6.53493C20.4502 5.21636 19.2207 4.27206 17.7497 3.87776C16.3868 3.51187 14.9634 3.6615 13.7106 4.29444L12 1.33337L8.44934 7.48295L0.242432 21.6959H23.7576L19.3996 14.148ZM17.3474 5.38416C18.4167 5.66894 19.3064 6.35548 19.8606 7.31143C20.9499 9.19582 20.384 11.5859 18.6176 12.7931L14.4917 5.64797C15.3806 5.22055 16.3831 5.12734 17.3474 5.38416ZM12 4.45432L21.0533 20.135H15.7562L9.35029 9.04341L11.9995 4.45478L12 4.45432ZM2.94667 20.135L8.44888 10.6071L13.9511 20.135H2.94667Z"/>
</svg></span> Get a Percona Expert</a></p>
</div>
</div>









  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              Thank you for your feedback! Help us improve by using our  <a href="https://docs.google.com/forms/d/1bkWACehjqlwA0AKf-qTJcXvYbOSYgze8iTPXjntqmNo/edit" target="_blank" rel="noopener"> feedback form</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <a href="https://www.percona.com/about">Percona LLC</a> and its affiliates &copy; 2024 — <a href="#" onclick="Osano.cm.showDrawer('osano-cm-dom-info-dialog-open')">Cookie Preferences</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["search.highlight", "navigation.top", "navigation.tracking", "content.tabs.link", "content.action.edit", "content.action.view", "content.code.copy"], "search": "assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
              <script src="https://cmp.osano.com/Azqe5vTyLOSbN3OuT/49ad85b5-0418-4794-ab81-7599dddd534c/osano.js"></script>

              
      <script src="assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="js/promptremover.js"></script>
      
        <script src="js/consent.js"></script>
      
        <script src="js/toctree.js"></script>
      
        <script src="js/lightgallery.min.js"></script>
      
    

              <img src="https://tracking.g2crowd.com/attribution_tracking/conversions/1007137.gif?e=" width="1" height="1" />

              <noscript>
                <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WBVF48V" height="0" width="0" style="display:none;visibility:hidden"></iframe>
              </noscript>
              
  </body>
</html>